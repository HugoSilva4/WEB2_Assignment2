{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/guiom/Documents/GitHub/WEB2_Assignment2/Web2_Assignment2/pokedex/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/guiom/Documents/GitHub/WEB2_Assignment2/Web2_Assignment2/pokedex/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/guiom/Documents/GitHub/WEB2_Assignment2/Web2_Assignment2/pokedex/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{getPokemonData,getPokemons}from\"./Datafetch\";import Pokedex from\"./Pokedex\";import\"../Homepage.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pokemons=_useState2[0],setPokemons=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),total=_useState6[0],setTotal=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),notFound=_useState10[0],setNotFound=_useState10[1];var fetchPokemons=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var data,promises,results;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;setLoading(true);_context2.next=4;return getPokemons(20,20*page);case 4:data=_context2.sent;promises=data.results.map(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(pokemon){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getPokemonData(pokemon.url);case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}());_context2.next=8;return Promise.all(promises);case 8:results=_context2.sent;setPokemons(results);setLoading(false);setTotal(Math.ceil(data.count/25));setNotFound(false);_context2.next=17;break;case 15:_context2.prev=15;_context2.t0=_context2[\"catch\"](0);case 17:case\"end\":return _context2.stop();}},_callee2,null,[[0,15]]);}));return function fetchPokemons(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchPokemons();},[page]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"pokedex\",children:notFound?/*#__PURE__*/_jsxs(\"div\",{className:\"not-found-text\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Sorry, Pokemon not found! \"}),/*#__PURE__*/_jsx(\"img\",{alt:\"loading...\"})]}):/*#__PURE__*/_jsx(Pokedex,{pokemons:pokemons,page:page,setPage:setPage,total:total,loading:loading})})});}export default Home;","map":{"version":3,"names":["React","useState","useEffect","getPokemonData","getPokemons","Pokedex","jsx","_jsx","jsxs","_jsxs","Home","_useState","_useState2","_slicedToArray","pokemons","setPokemons","_useState3","_useState4","page","setPage","_useState5","_useState6","total","setTotal","_useState7","_useState8","loading","setLoading","_useState9","_useState10","notFound","setNotFound","fetchPokemons","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","data","promises","results","wrap","_callee2$","_context2","prev","next","sent","map","_ref2","_callee","pokemon","_callee$","_context","url","abrupt","stop","_x","apply","arguments","Promise","all","Math","ceil","count","t0","children","className","alt"],"sources":["C:/Users/guiom/Documents/GitHub/WEB2_Assignment2/Web2_Assignment2/pokedex/src/components/Homepage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { getPokemonData, getPokemons } from \"./Datafetch\";\r\nimport Pokedex from \"./Pokedex\";\r\nimport \"../Homepage.css\";\r\n\r\nfunction Home() {\r\n  const [pokemons, setPokemons] = useState([]);\r\n  const [page, setPage] = useState(0);\r\n  const [total, setTotal] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n  const [notFound, setNotFound] = useState(false);\r\n\r\n  const fetchPokemons = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const data = await getPokemons(20, 20 * page);\r\n\r\n      const promises = data.results.map(async (pokemon) => {\r\n        return await getPokemonData(pokemon.url);\r\n      });\r\n      const results = await Promise.all(promises);\r\n      setPokemons(results);\r\n      setLoading(false);\r\n      setTotal(Math.ceil(data.count / 25));\r\n      setNotFound(false);\r\n    } catch (err) {}\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchPokemons();\r\n  }, [page]);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"pokedex\">\r\n        {notFound ? (\r\n          <div className=\"not-found-text\">\r\n            <h1>Sorry, Pokemon not found! </h1>\r\n            <img alt=\"loading...\" />\r\n          </div>\r\n        ) : (\r\n          <Pokedex\r\n            pokemons={pokemons}\r\n            page={page}\r\n            setPage={setPage}\r\n            total={total}\r\n            loading={loading}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}